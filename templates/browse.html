<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Index</title>
	<link rel="stylesheet" href="/public/css/bootstrap.min.css">
	<link rel="stylesheet" href="/public/css/dropzone.css">
	<link rel="stylesheet" href="/public/css/style.css">
	<link rel="stylesheet" href="/public/css/download.css">
</head>
<body>
	<div id="template-card" class="card col-md-3" style="display:none;">
		<a class="folder card-body folder-name" href="#"></a>

		<div class="file">
			<div class="card-body">
				<a href="#" class="card-title file-name file-preview"></a>
				<a class="face-button file-download" href="#">
					<div class="face-primary"><span class="icon fa fa-cloud"></span></div>
					<div class="face-secondary">
						<span style="display: inline-block; margin-right: 5px" class="icon fa fa-hdd-o"></span> <p style="display: inline-block" class="file-size"></p>
					</div>
				</a>
				<a href="#" data-file="" class="file-delete col-sm" style="color: red">Delete</a>
			</div>
		</div>

	</div>


	<div class="container pt-5" >
		<div class="row" id="directoryStructure"></div>

		<br>
		<br>

		<form action="/upload" class="dropzone">
			<input type="hidden" name="directory" id="upload-file" value="<%= dir %>">
		</form>

		<br>
		<br>

		<form action="/upload" method="POST" enctype="multipart/form-data" onchange="this.submit();" style="text-align: center">
			<input type="file" name="file" id="file" class="inputfile" webkitdirectory mozdirectory />
			<label for="file">Choose A Folder</label>
			<input type="hidden" name="directory" id="upload-dir" value="<%= dir %>" >
		</form>

		<hr>
		<div style="text-align: center" class="container pt-5">
			<h3>Public IP:</h3>
			<span>
				<b> <%= externalIP %> </b>
			</span>

			<h3>Local Interfaces:</h3>
			<span>
			<b>
				<% for ( interface in ipInterfaces ) { %>
					<div style="display: inline-block; margin-right: 25px;">
						<div>Name: <%= interface %> </div>
						<span>IPs: </span>

						<% for ( ip of ipInterfaces[interface] ) { %>
							<div style="margin-left: 5px;"><%= ip %></div>
						<% } %>
					</div>
				<% } %>
				<br>
				<br>
			</b>
		</span>
		</div>
	</div>

</body>
<script type="text/javascript" src="/public/js/library/jquery.js"></script>
<script type="text/javascript" src="/public/js/library/bootstrap.js"></script>
<script src="/public/js/library/dropzone.js"></script>
<script>
	let currentDir	= '<%= dir %>';
</script>
<script src="/public/js/main.js"></script>
</html>

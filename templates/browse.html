<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Index</title>
	<link rel="stylesheet" href="/public/css/bootstrap.min.css">
</head>
<body>
	<div class="container pt-5">
		<% if ( this.data ){ %>
		<div class="row">
			<% for( let index = 0; index < this.data.length; ++ index ) { %>
				<div class="col-md-4 card mb-4 box-shadow h-md-250">
					<% if ( this.data[index].isDir ) { %>
						<a class="folder card-body" href="/browse?dir=<% this.data[index].encodedURI %>"><% this.data[index].name %></a>
					<% } %>
					<% if ( this.data[index].isDir === false){ %>
						<div class="card-body d-flex flex-column align-items-start">
							<% this.data[index].name %>
							<div><% Math.round( this.data[index].size / 1024, 2 ) %> KB</div>
						</div>
						<a class="btn btn-outline-primary" href="<% '/download?file=' + this.data[index].encodedURI %>">Download</a>
					<% } %>
				</div>
			<% } %>
		</div>
		<% } %>

		<form class="was-validated" action="upload" method="post" enctype="multipart/form-data">
			Note: If the file sucessfully gets processed, a redirect will happen and the
			file will get saved in the background, so it may take a second for it to appear on the file system
			<div class="custom-file">
				<input type="file" name="file" class="custom-file-input" required>
				<label class="custom-file-label" for="validatedCustomFile">Choose file...</label>
			</div>
			<input type="hidden" name="directory" value="<% this.dir %>">
			<button type="submit" class="btn btn-primary">Submit</button>
		</form>
	</div>
</body>
<script type="text/javascript" src="/public/js/jquery.js"></script>
<script type="text/javascript" src="/public/js/bootstrap.js"></script>
</html>
